@page "/Product/Details/{productId}"
@model UI.Pages.Products.DetailsModel
@{
}
<style>
    .carousel .carousel-item {
        height: 500px;
    }

    .carousel-item .img {
        object-fit: cover;
        image-position: center;
        position: absolute;
        top: 0;
        left: 0;
        min-height: 500px;
    }
</style>
<div id="carouselExample" class="carousel slide">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExample" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExample" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExample" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
        //TODO - replace with real data
        <div class="carousel-item active">
            <img width="50px" src="https://file4.batdongsan.com.vn/2024/03/03/20240303211226-5260_wm.jpg" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
            <img width="auto" src="https://file4.batdongsan.com.vn/2024/03/03/20240303211222-780d_wm.jpg" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
            <img width="auto" src="https://file4.batdongsan.com.vn/2024/03/03/20240303211219-d8aa_wm.jpg" class="d-block w-100" alt="...">
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

<div class="row">
    <div class="col-8">
        <h1 class="title" style="margin-bottom: 0;">@Model.Product!.ProductTitle <span class="badge rounded-pill bg-success">@Model.Product.Status</span></h1>
        <h3 style="margin-top: 0; margin-bottom:40px;">Một sản phẩm trong dự án <a href="/Project/Details/@Model.Product.ProjectId">@Model.Product?.Project!.ProjectTitle</a></h3>
        <div class="row">
            <div style="position:relative">
                <div id="mainContent" class="hideContent">
                    @Model.Product.Description
                </div>
                <div style="position: absolute; bottom: 0; width: 100%">
                    <div class="gradient">&nbsp;</div>
                    <div class="show-more">
                        <a href="#">Xem thêm</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-4">
        <h1 class="title">Đăng kí ngay</h1>
        @if (!Model.IsRegistered)
        {
            <form method="post" asp-page-handler="booking">
                <input type="hidden" name="id" value="@Model.Product.Id" />
                <button class="btn btn-success btn-lg mb-3">Đăng ký</button>
            </form>
        } 
        else
        {
            var message = ViewData["bookingMessage"];
            if (message != null)
            {
                <b>@message</b>            
            }
            <button class="btn btn-secondary btn-lg disabled mb-3">Đã đăng ký</button>    
        }
        <h1>Thông tin nhà đầu tư</h1>
        <div class="row" style="margin-left: 14px; line-height: 3rem;">
            <div class="col-12 row">
                <span class="col-4 fw-bold" style="margin-right: 30px">Số điện thoại</span>
                <span class="col">@Model.Product.Investor?.Phone</span>
                @if (Model.Product.Investor == null)
                {
                    <span class="col">Unknown</span>
                }
            </div>
            <div class="col-12 row">
                <span class="col-4 fw-bold" style="margin-right: 30px">Email</span>
                <span class="col">@Model.Product.Investor?.Email</span>
                @if (Model.Product.Investor == null)
                {
                    <span class="col">Unknown</span>
                }
            </div>
        </div>
        <br />
        <h1>Thông tin dự án</h1>
        <div class="row" style="margin-left: 14px; line-height: 3rem;">
            <div class="col-12 row">
                <span class="col-4 fw-bold" style="margin-right: 30px">Đã đăng ký</span>
                <span class="col">@Model.BookedCount người</span>
            </div>
            @* <div class="col-12 row">
                <span class="col-4 fw-bold" style="margin-right: 30px">Số dự án</span>
                <span class="col">@Model.Product.Project!. dự án</span>
            </div> *@
            @* <div class="col-12 row">
                <span class="col-4 fw-bold" style="margin-right: 30px">Địa chỉ</span>
                <span class="col">@Model.Product.Project!.ProjectLocation</span>
            </div> *@
            @* <div class="col-12 row">
                <span class="col-4 fw-bold" style="margin-right: 30px">Google Map</span>
                <span class="col"><a href="@Model.Product.Project.ProjectGeoLocationUrl" target="_blank">Nhấn vào để xem thêm</a></span>
            </div> *@
        </div>
    </div>
</div>

<script type="text/javascript" src="~/js/project_list.js">
</script>